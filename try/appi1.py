import uvicorn
from fastapi import FastAPI, Form, Request
from fastapi.responses import HTMLResponse
from fastapi.templating import Jinja2Templates
from fastapi.staticfiles import StaticFiles

import pickle

app = FastAPI()
templates = Jinja2Templates(directory="templates")
app.mount("/static", StaticFiles(directory="templates/static"), name="static")

model = pickle.load(open('modele_entraîné.pkl', 'rb'))
predictions_classes = {0: "Non-Décrocheur", 1: "Décrocheur"}


# Ajoutez cette fonction pour charger les libellés correspondants à partir de votre ensemble de données
def load_labels():
    # Chargez votre ensemble de données ici, puis créez des dictionnaires de correspondance
    # entre les valeurs numériques et les libellés pour chaque champ nécessaire
    cd_reg_labels = {
        0: "Services Centraux",
        1: "Tanger-Tetouan-Al Hoceima",
        2: "Oriental",
        3: "Fès-Meknès",
        4: "Rabat-Salé-Kénitra",
        5: "Béni Mellal-Khénifra",
        6: "Casablanca-Settat",
        7: "Marrakech-Safi",
        8: "Drâa-Tafilalet",
        9: "Souss-Massa",
        10: "Guelmim-Oued Noun",
        11: "Laayoune-Sakia El Hamra",
        12: "Eddakhla-Oued Eddahab",
    }
    # Ajoutez toutes les correspondances nécessaires
    cd_com_labels = {
        101: "Directions Centrales",
        10101: "Agadir (Mun.)",
        10501: "Amskroud",
        10509: "Drargua",
        10511: "Idmine",
        10703: "Aourir",
        10705: "Aqesri",
        10707: "Aziar",
        10713: "Imouzzer",
        10715: "Imsouane",
        10721: "Tadrart",
        10723: "Taghazout",
        10725: "Tamri",
        10729: "Tiqqi",
        410101: "Ait Ourir (Mun.)",
        410103: "Amizmiz (Mun.)",
        410109: "Tahannaout (Mun.)",
        410305: "Ait Faska",
        410309: "Ait Sidi Daoud",
        410311: "Ghmate",
        410313: "Iguerferouane",
        410315: "Sidi Abdallah Ghiat",
        410319: "Tamazouzte",
        410323: "Tidili Mesfioua",
        410501: "Amghras",
        410505: "Anougal",
        410507: "Azgour",
        410509: "Dar Jamaa",
        410511: "Lalla Takarkoust",
        410513: "Ouazguita",
        410515: "Oulad Mtaa",
        410517: "Sidi Badhaj",
        410519: "Tizguine",
        410701: "Aghbar",
        410703: "Asni",
        410705: "Ighil",
        410707: "Ijoukak",
        410709: "Imgdal",
        410711: "Ouirgane",
        410713: "Talat N'Yaaqoub",
        410901: "Moulay Brahim",
        410903: "Oukaimden",
        410905: "Ourika",
        410907: "Sti Fadma",
        410911: "Tameslohte",
        410913: "Aghouatim",
        411101: "Abadou",
        411103: "Ait Aadel",
        411107: "Ait Hkim-Ait Yzid",
        411117: "Tamaguert",
        411121: "Tazart",
        411125: "Tighedouine",
        411127: "Touama",
        411129: "Zerkten",
        510101: "Al Hoceima (Mun.)",
        510103: "Bni Bouayach (Mun.)",
        510105: "Imzouren (Mun.)",
        510107: "Targuist (Mun.)",
        510109: "Ajdir (Mun.)",
        510301: "Bni Boufrah",
        510303: "Bni Gmil",
        510305: "Bni Gmil Maksouline",
        510307: "Senada",
        510501: "Ait Kamra",
        510503: "Ait Youssef Ou Ali",
        510505: "Arbaa Taourirt",
        510507: "Bni Abdallah",
        510509: "Bni Hadifa",
        510511: "Chakrane",
        510513: "Imrabten",
        510515: "Izemmouren",
        510517: "Louta",
        510519: "Nekkour",
        510521: "Rouadi",
        510523: "Tifarouine",
        510525: "Zaouiat Sidi Abdelkader",
        510703: "Bni Ahmed Imoukzan",
        510705: "Bni Ammart",
        510707: "Bni Bchir",
        510711: "Bni Bounsar",
        510719: "Sidi Boutmim",
        510721: "Sidi Bouzineb",
        510727: "Zarkt",
        510901: "Abdelghaya Souahel",
        510909: "Bni Bouchibet",
        510913: "Issaguen",
        510915: "Ketama",
        510917: "Moulay Ahmed Cherif",
        510923: "Taghzout",
        510925: "Tamsaout",
        610101: "Meknès (Mun.)",
        610103: "Al Machouar - Stinia (Mun.)",
        610105: "Boufakrane (Mun.)",
        610107: "Toulal (Mun.)",
        610109: "Moulay Driss Zerhoun (Mun.)",
        610111: "Ouislane (Mun.)",
        610301: "Ain Jemaa",
        610302: "Ain Karma- Oued Rommane",
        610305: "Ain Orma",
        610307: "Ait Ouallal",
        610309: "Dar Oum Soltane",
        610501: "Dkhissa",
        610503: "Majjate",
        610505: "M'haya",
        610507: "Oued Jdida",
        610509: "Sidi Slimane Moul Al Kifane",
        610701: "Charqaoua",
        610705: "MRhassiyine",
        610707: "N'zalat Bni Amar",
        610709: "Oualili",
        610711: "Sidi Abdallah Al Khayat",
        660305: "Aousserd",
        660307: "Tichla",
        660503: "Bir Gandouz",
        710101: "Assa (Mun.)",
        710103: "Zag (Mun.)",
        710301: "Aouint Lahna",
        710303: "Aouint Yghomane",
        710305: "Touizgui",
        710501: "Al Mahbass",
        710503: "Labouirat",
        810101: "Azilal (Mun.)",
        810103: "Demnate (Mun.)",
        810301: "Agoudi N'Lkhair",
        810303: "Ait Abbas",
        810305: "Ait Bou Oulli",
        810307: "Ait M'Hamed",
        810309: "Tabant",
        810311: "Tamda Noumercid",
        810313: "Zaouiat Ahansal",
        810501: "Ait Taguella",
        810505: "Bni Hassane",
        810507: "Bzou",
        810509: "Foum Jemaa",
        810511: "Moulay Aissa Ben Driss",
        810513: "Rfala",
        810515: "Tabia",
        810517: "Tanant",
        810519: "Taounza",
        810521: "Tisqi",
        810903: "Ait Mazigh",
        810907: "Ait Ouqabli",
        810909: "Anergui",
        810911: "Bin El Ouidane",
        810913: "Isseksi",
        810915: "Ouaouizeght",
        810917: "Tabaroucht",
        810919: "Tagleft",
        810921: "Tiffert N'Ait Hamza",
        810923: "Tilougguite",
        811101: "Afourar",
        811103: "Bni Ayat",
        811105: "Ait Ouaarda",
        811125: "Timoulilt",
        811305: "Ait Oumdis",
        811307: "Ait Tamlil",
        811309: "Anzou",
        811317: "Sidi Yacoub",
        811319: "Tidili Fetouaka",
        811501: "Ait Blal",
        811503: "Ait Majden",
        811511: "Imlil",
        811513: "Ouaoula",
        811515: "Sidi Boulkhalf",
        811521: "Tifni",
        910101: "Béni Mellal (Mun.)",
        910103: "El Ksiba (Mun.)",
        910107: "Kasba Tadla (Mun.)",
        910113: "Zaouiat Cheikh (Mun.)",
        910301: "Foum Oudi",
        910303: "Ouled Gnaou",
        910305: "Ouled M'Barek",
        910307: "Ouled Yaich",
        910309: "Sidi Jaber",
        910311: "Foum El Anceur",
        910501: "Aghbala",
        910505: "Boutferda",
        910517: "Tizi N'Isly",
        910703: "Ait Oum El Bekht",
        910707: "Dir El Ksiba",
        910711: "Naour",
        910713: "Taghzirt",
        910715: "Tanougha",
        911101: "Guettaya",
        911103: "Ouled Youssef",
        911105: "Ouled Said L'Oued",
        911107: "Semguet",
        1110101: "Benslimane (Mun.)",
        1110103: "Bouznika (Mun.)",
        1110105: "El Mansouria (Mun.)",
        1110301: "Ahlaf",
        1110303: "Ain Tizgha",
        1110305: "Fdalate",
        1110307: "Mellila",
        1110311: "Moualine El Oued",
        1110313: "Oulad Ali Toualaa",
        1110315: "Oulad Yahya Louta",
        1110317: "Rdadna Oulad Malek",
        1110319: "Ziaida",
        1110501: "Bir Ennasr",
        1110504: "Sidi Bettache",
        1110505: "Charrate",
        1130101: "Ahfir (Mun.)",
        1130105: "Ain Erreggada (Mun.)",
        1130107: "Aklim (Mun.)",
        1130109: "Berkane (Mun.)",
        1130125: "Saidia (Mun.)",
        1130129: "Sidi Slimane Echcharraa (Mun.)",
        1130301: "Aghbal",
        1130307: "Fezouane",
        1130309: "Laatamna",
        1130311: "Madagh",
        1130503: "Boughriba",
        1130505: "Chouihia",
        1130513: "Rislane",
        1130515: "Sidi Bouhria",
        1130517: "Tafoughalt",
        1130519: "Zegzel",
        1170103: "Berrechid (Mun.)",
        1170105: "Deroua (Mun.)",
        1170107: "El Gara (Mun.)",
        1170109: "Had Soualem (Mun.)",
        1170111: "Oulad Abbou (Mun.)",
        1170113: "Sidi Rahal Chatai (Mun.)",
        1170501: "Ben Maachou",
        1170511: "Laghnimyine",
        1170513: "Lahsasna",
        1170525: "Sahel Oulad H'Riz",
        1170527: "Sidi Abdelkhaleq",
        1170529: "Sidi El Mekki",
        1170533: "Soualem Trifiya",
        1170535: "Zaouiat Sidi Ben Hamdoun",
        1170805: "Foqra Oulad Aameur",
        1170807: "Jaqma",
        1170809: "Kasbat Ben Mchich",
        1170817: "Lambarkiyine",
        1170819: "Ouled Cebbah",
        1170820: "Oulad Ziyane",
        1170821: "Ouled Zidane",
        1170823: "Riah",
        1210101: "Boujdour (Mun.)",
        1310101: "Boulemane (Mun.)",
        1310102: "Imouzzer Marmoucha (Mun.)",
        1310103: "Missour (Mun.)",
        1310105: "Outat El Haj (Mun.)",
        1310301: "Ait Bazza",
        1310303: "Ait El Mane",
        1310305: "Almis Marmoucha",
        1310307: "El Mers",
        1310309: "Enjil",
        1310311: "Guigou",
        1310313: "Serghina",
        1310315: "Skoura M'Daz",
        1310317: "Talzemt",
        1310501: "Ksabi Moulouya",
        1310503: "Ouizeght",
        1310505: "Sidi Boutayeb",
        1310701: "El Orjane",
        1310703: "Ermila",
        1310705: "Fritissa",
        1310707: "Oulad Ali Youssef",
        1310709: "Tissaf",
        1410101: "Anfa (Arrond.)",
        1410103: "El Maarif (Arrond.)",
        1410107: "Sidi Belyout (Arrond.)",
        1420111: "Al-Fida (Arrond.)",
        1420113: "Mers-Sultan (Arrond.)",
        1420181: "Mechouar de Casablanca (Mun.)",
        1430121: "Aîn-Sebaâ (Arrond.)",
        1430123: "Assoukhour Assawda (Arrond.)",
        1430125: "Hay Mohammadi (Arrond.)",
        1440141: "Aîn-Chock (Arrond.)",
        1450131: "Hay-Hassani (Arrond.)",
        1460161: "Ben M'Sick (Arrond.)",
        1460163: "Sbata (Arrond.)",
        1470171: "Moulay Rachid (Arrond.)",
        1470173: "Sidi Othmane (Arrond.)",
        1480151: "Sidi Bernoussi (Arrond.)",
        1480153: "Sidi Moumen (Arrond.)",
        1510101: "Chefchaouen (Mun.)",
        1510303: "Bab Berred",
        1510313: "Iounane",
        1510323: "Tamorot",
        1510501: "Bab Taza",
        1510503: "Bni Darkoul",
        1510505: "Bni Faghloum",
        1510507: "Bni Salah",
        1510509: "Derdara",
        1510511: "Fifi",
        1510513: "Laghdir",
        1510515: "Tanaqoub",
        1510605: "Bni Ahmed Cherqia",
        1510607: "Bni Ahmed Gharbia",
        1510615: "Mansoura",
        1510621: "Oued Malha",
        1510701: "Bni Bouzra",
        1510703: "Bni Mansour",
        1510705: "Bni Selmane",
        1510707: "Steha",
        1510709: "Talambote",
        1510711: "Tassift",
        1510713: "Tizgane",
        1510901: "Amtar",
        1510909: "Bni Rzine",
        1510911: "Bni Smih",
        1510917: "M'tioua",
        1510919: "Ouaouzgane",
        1610101: "Chichaoua (Mun.)",
        1610103: "Imintanoute (Mun.)",
        1610301: "Ahdil",
        1610303: "Ait Hadi",
        1610305: "Lamzoudia",
        1610307: "Oulad Moumna",
        1610309: "Saidate",
        1610311: "Sid L'Mokhtar",
        1610313: "Sidi Bouzid Arragragui",
        1610315: "Sidi M'Hamed Dalil",
        1610501: "Afalla Issen",
        1610503: "Ain Tazitounte",
        1610505: "Ait Haddou Youssef",
        1610507: "Irohalen",
        1610509: "Lalla Aaziza",
        1610511: "Nfifa",
        1610513: "Ouad L'bour",
        1610515: "Sidi Ghanem",
        1610517: "Timezgadiouine",
        1610701: "Adassil",
        1610703: "Assif El Mal",
        1610705: "Douirane",
        1610707: "Gmassa",
        1610709: "Imindounit",
        1610711: "Majjat",
        1610713: "M'Zouda",
        1610715: "Zaouia Annahlia",
        1610901: "Bouabout",
        1610903: "Bouabout Amdlane",
        1610905: "Ichamraren",
        1610907: "Kouzemt",
        1610909: "Rahhala",
        1610911: "Sidi Abdelmoumen",
        1610913: "Taouloukoult",
        1610915: "Timlilt",
        1630103: "Ait Baha (Mun.)",
        1630111: "Biougra (Mun.)",
        1630305: "Ait Mzal",
        1630307: "Ait Ouadrim",
        1630309: "Aouguenz",
        1630313: "Hilala",
        1630315: "Ida Ougnidif",
        1630325: "Sidi AbdallahEl Bouchouari",
        1630333: "Tanalt",
        1630335: "Targua Ntouchka",
        1630337: "Tassegdelt",
        1630339: "Tizi Ntakoucht",
        1630503: "Ait Milk",
        1630511: "Belfaa",
        1630519: "Inchaden",
        1630521: "Massa",
        1630531: "Sidi Ouassay",
        1630701: "Ait Amira",
        1630717: "Imi Mqourn",
        1630723: "Ouad Essafa",
        1630727: "Sidi Bibi",
        1630729: "Sidi Boushab",
        1670103: "Ben Taieb (Mun.)",
        1670109: "Driouch (Mun.)",
        1670113: "Midar (Mun.)",
        1670301: "Ain Zohra",
        1670303: "Ait Mait",
        1670305: "Amejjaou",
        1670307: "Dar El Kebdani",
        1670309: "Mtalssa",
        1670311: "Oulad Boubker",
        1670313: "Tazaghine",
        1670901: "Azlaf",
        1670905: "Bni Marghnine",
        1670907: "Boudinar",
        1670909: "Iferni",
        1670911: "Ijermaouas",
        1670915: "M'Hajer",
        1670917: "Ouardana",
        1670919: "Oulad Amghar",
        1670921: "Tafersit",
        1670923: "Talilit",
        1670925: "Temsamane",
        1670927: "Trougout",
        1670929: "Tsaft",
        1710101: "Agourai (Mun.)",
        1710103: "Ain Taoujdate (Mun.)",
        1710105: "El Hajeb (Mun.)",
        1710107: "Sabaa Aiyoun (Mun.)",
        1710301: "Ait Ouikhalfen",
        1710303: "Ait Yaazem",
        1710305: "Jahjouh",
        1710307: "Ras Ijerri",
        1710309: "Tamchachate",
        1710501: "Ait Boubidmane",
        1710503: "Ait Harz Allah",
        1710505: "Bitit",
        1710507: "Laqsir",
        1710701: "Ait Bourzouine",
        1710703: "Ait Naamane",
        1710705: "Iqaddar",
        1810101: "Azemmour (Mun.)",
        1810103: "El Jadida (Mun.)",
        1810105: "Lbir Jdid (Mun.)",
        1810301: "Chtouka",
        1810305: "Laghdira",
        1810307: "Lamharza Essahel",
        1810311: "Sidi Ali Ben Hamdouche",
        1810501: "My Abdellah",
        1810503: "Oulad Aissa",
        1810505: "Ouled Ghanem",
        1810507: "Ouled Hcine",
        1810509: "Sidi Abed",
        1810511: "Sidi M'Hamed Akhdim",
        1810703: "Haouzia",
        1810709: "Oulad Rahmoune",
        1810901: "Boulaouane",
        1810903: "Chaibate",
        1810905: "Mettouh",
        1810907: "Mogress",
        1810909: "Oulad Hamdane",
        1810911: "Oulad Sidi Ali Ben Youssef",
        1810913: "Ouled Frej",
        1810915: "Sebt Saiss",
        1810917: "Si Hsaien Ben Abderrahmane",
        1810919: "Sidi Smail",
        1810921: "Zaouiat Saiss",
        1810923: "Zaouiat Lakouacem",
        1910103: "El Kelaâ des Sraghna (Mun.)",
        1910105: "Laattaouia (Mun.)",
        1910107: "Sidi Rahhal (Mun.)",
        1910109: "Tamallalt (Mun.)",
        1910301: "Chtaiba",
        1910303: "Eddachra",
        1910305: "El Aamria",
        1910307: "El Marbouh",
        1910309: "Errafiaya",
        1910311: "Hiadna",
        1910313: "Lounasda",
        1910315: "Mayate",
        1910317: "Oulad Aamer",
        1910319: "Oulad Bouali Loued",
        1910321: "Oulad Cherki",
        1910323: "Oulad El Garne",
        1910325: "Oulad Massaoud",
        1910327: "Oulad Msabbel",
        1910329: "Oulad Sbih",
        1910331: "Oulad Yaacoub",
        1910333: "Oulad Zarrad",
        1910335: "Sidi El Hattab",
        1910337: "Sidi Moussa",
        1910339: "Taouzint",
        1910341: "Znada",
        1910501: "Assahrij",
        1910503: "Bouya Omar",
        1910505: "Choara",
        1910507: "Dzouz",
        1910509: "Fraita",
        1910515: "Laatamna",
        1910516: "Laattaouia Ech-chaibia",
        1910517: "Louad Lakhdar",
        1910519: "M'Zem Sanhaja",
        1910521: "Ouargui",
        1910523: "Oulad Aarrad",
        1910525: "Oulad Khallouf",
        1910527: "Sidi Aissa Ben Slimane",
        1910529: "Sour El Aaz",
        1910711: "Jbiel",
        1910713: "Jouala",
        1910731: "Zemrane",
        1910733: "Zemrane Charqia",
        2010101: "Arfoud (Mun.)",
        2010103: "Boudnib (Mun.)",
        2010105: "Errachidia (Mun.)",
        2010109: "Goulmima (Mun.)",
        2010111: "Jorf (Mun.)",
        2010113: "Moulay Ali Cherif (Mun.)",
        2010115: "Tinejdad (Mun.)",
        2010301: "Aarab Sebbah Gheris",
        2010303: "Aarab Sebbah Ziz",
        2010307: "Es-sifa",
        2010309: "Fezna",
        2010701: "Aoufous",
        2010703: "Chorfa M'Daghra",
        2010705: "Er-rteb",
        2010707: "Lkheng",
        2010709: "Oued Naam",
        2011101: "Bni M'Hamed-Sijelmassa",
        2011103: "Er-rissani",
        2011105: "Es-sfalat",
        2011107: "Et-taous",
        2011109: "Sidi Ali",
        2011301: "Aghbalou N'Kerdous",
        2011302: "Amellagou",
        2011303: "Ferkla El Oulia",
        2011305: "Ferkla Es-soufla",
        2011307: "Gheris El Ouloui",
        2011309: "Gheris Es-soufli",
        2011311: "Melaab",
        2011313: "Tadighoust",
        2110101: "Ait Daoud (Mun.)",
        2110103: "El Hanchane (Mun.)",
        2110105: "Essaouira (Mun.)",
        2110107: "Talmest (Mun.)",
        2110109: "Tamanar (Mun.)",
        2110301: "Ait Said",
        2110303: "Aquermoud",
        2110305: "Had Dra",
        2110307: "Kechoula",
        2110309: "Korimate",
        2110311: "Lagdadra",
        2110313: "Lahsinate",
        2110315: "Mejji",
        2110317: "Meskala",
        2110319: "Mouarid",
        2110321: "Moulay Bouzarqtoune",
        2110323: "Mzilate",
        2110325: "M'Khalif",
        2110327: "M'Ramer",
        2110329: "Oulad M'Rabet",
        2110331: "Ounagha",
        2110333: "Sidi Abdeljalil",
        2110335: "Sidi Aissa Regragui",
        2110337: "Sidi Ali El Korati",
        2110339: "Sidi Boulaalam",
        2110341: "Sidi Ishaq",
        2110343: "Sidi Laaroussi",
        2110345: "Sidi M'Hamed Ou Marzouq",
        2110347: "Tafetachte",
        2110349: "Takate",
        2110351: "Zaouiat Ben Hmida",
        2110501: "Adaghas",
        2110503: "Aglif",
        2110505: "Aguerd",
        2110507: "Ait Aissi Ihahane",
        2110509: "Assais",
        2110511: "Bizdad",
        2110513: "Bouzemmour",
        2110515: "Ezzaouite",
        2110517: "Ida Ou Aazza",
        2110519: "Ida Ou Guelloul",
        2110521: "Ida Ou Kazzou",
        2110523: "Imgrade",
        2110525: "Imi N'Tlit",
        2110527: "Sidi Ahmed Essayeh",
        2110529: "Sidi El Jazouli",
        2110531: "Sidi Ghaneme",
        2110533: "Sidi H'Mad Ou M'Barek",
        2110535: "Sidi Hmad Ou Hamed",
        2110537: "Sidi Kaouki",
        2110539: "Smimou",
        2110541: "Tafedna",
        2110543: "Tahelouante",
        2110545: "Takoucht",
        2110547: "Targante",
        2110549: "Tidzi",
        2110551: "Timizguida-Ouftas",
        2210101: "Es-semara (Mun.)",
        2210303: "Haouza",
        2210305: "Jdiriya",
        2210307: "Sidi Ahmed Laaroussi",
        2270305: "Anjra",
        2270311: "Jouamaa",
        2270313: "Ksar El Majaz",
        2270321: "Taghramt",
        2270501: "Al Bahraoyine",
        2270505: "Ksar Sghir",
        2270509: "Malloussa",
        2310101: "Agdal (Arrond.)",
        2310103: "Méchouar Fès Jdid (Mun.)",
        2310105: "Saiss (Arrond.)",
        2310107: "Fès-Médina (Arrond.)",
        2310109: "Jnan El Ouard (Arrond.)",
        2310111: "El Mariniyine (Arrond.)",
        2310113: "Zouagha (Arrond.)",
        2318101: "Oulad Tayeb",
        2318103: "Ain Bida",
        2318105: "Sidi Harazem",
        2510101: "Bouarfa (Mun.)",
        2510103: "Figuig (Mun.)",
        2510301: "Ain Chouater",
        2510303: "Bni Tadjite",
        2510305: "Bouanane",
        2510307: "Bouchaouene",
        2510309: "Boumerieme",
        2510311: "Talsint",
        2510313: "Ain Chair",
        2510501: "Abbou Lakhal",
        2510503: "Bni Guil",
        2510505: "Maatarka",
        2510507: "Tendrara",
        2550105: "Fquih Ben Salah (Mun.)",
        2550109: "Ouled Ayad (Mun.)",
        2550111: "Souk Sebt Ouled Nemma (Mun.)",
        2550505: "Ouled Bourahmoune",
        2550509: "Ouled Zmam",
        2550511: "Sidi Aissa Ben Ali",
        2550513: "Sidi Hammadi",
        2550901: "Khalfia",
        2550903: "Bni Chegdale",
        2550905: "Bni Oukil",
        2550907: "Bradia",
        2550909: "Hel Merbaa",
        2550911: "Krifate",
        2551101: "Dar Ould Zidouh",
        2551103: "Had Boumoussa",
        2551107: "Ouled Nacer",
        2610101: "Bouizakarne (Mun.)",
        2610103: "Guelmim (Mun.)",
        2610301: "Aday",
        2610303: "Ait Boufoulen",
        2610305: "Amtdi",
        2610307: "Ifrane Atlas Saghir",
        2610309: "Tagante",
        2610311: "Taghjijt",
        2610313: "Timoulay",
        2610503: "Aferkat",
        2610505: "Asrir",
        2610509: "Fask",
        2610521: "Tiglit",
        2610701: "Abaynou",
        2610707: "Echatea El Abied",
        2610711: "Labyar",
        2610713: "Laqsabi Tagoust",
        2610715: "Rass Oumlil",
        2610717: "Taliouine Assaka",
        2610719: "Targa Wassay",
        2650103: "Guercif (Mun.)",
        2650501: "Assebbab",
        2650503: "Barkine",
        2650505: "Houara Oulad Raho",
        2650507: "Lamrija",
        2650515: "Saka",
        2650709: "Mazguitam",
        2650711: "Oulad Bourima",
        2650713: "Ras Laksar",
        2650717: "Taddart",
        2710101: "Azrou (Mun.)",
        2710103: "Ifrane (Mun.)",
        2710301: "Ain Leuh",
        2710303: "Ben Smim",
        2710305: "Oued Ifrane",
        2710307: "Sidi El Makhfi",
        2710309: "Tigrigra",
        2710311: "Timahdite",
        2718101: "Dayat Aoua",
        2718103: "Tizguite",
        2730105: "Ait Melloul (Mun.)",
        2730113: "Dcheira El Jihadia (Mun.)",
        2730115: "Inezgane (Mun.)",
        2730117: "Lqliaa (Mun.)",
        2730519: "Oulad Dahou",
        2730527: "Temsia",
        2750103: "Ain Bni Mathar (Mun.)",
        2750117: "Jerada (Mun.)",
        2750135: "Touissit (Mun.)",
        2750303: "Gafait",
        2750305: "Guenfouda",
        2750307: "Laaouinate",
        2750309: "Lebkhata",
        2750313: "Ras Asfour",
        2750315: "Sidi Boubker",
        2750321: "Tiouli",
        2750501: "Bni Mathar",
        2750511: "Mrija",
        2750513: "Oulad Ghziyel",
        2750515: "Oulad Sidi Abdelhakem",
        2810101: "Kénitra (Mun.)",
        2810105: "Mehdya (Mun.)",
        2810111: "Souk El Arbaa (Mun.)",
        2810301: "Ameur Seflia",
        2810305: "Haddada",
        2810311: "Ouled Slama",
        2810313: "Sidi Taibi",
        2810503: "Ben Mansour",
        2810507: "Mnasra",
        2810509: "Mograne",
        2810511: "Sidi Mohamed Ben Mansour",
        2810701: "Arbaoua",
        2810703: "Beni Malek",
        2810705: "Kariat Ben Aouda",
        2810707: "Oued El Makhazine",
        2810901: "Bahhara Ouled Ayad",
        2810909: "Sidi Allal Tazi",
        2810913: "Sidi Mohamed Lahmar",
        2810915: "Souk Tlet El Gharb",
        2811103: "Chouafaa",
        2811105: "Lalla Mimouna",
        2811107: "Moulay Bousselham",
        2811111: "Sidi Boubker El Haj",
        2910101: "Khémisset (Mun.)",
        2910103: "Rommani (Mun.)",
        2910105: "Tiflet (Mun.)",
        2910117: "Sidi Allal El Bahraoui (Mun.)",
        2910301: "Ait Mimoune",
        2910303: "Ait Ouribel",
        2910305: "Ait Siberne",
        2910307: "Ait Yadine",
        2910309: "El Ganzra",
        2910311: "Majmaa Tolba",
        2910313: "Sfassif",
        2910315: "Sidi Allal Lamsadder",
        2910317: "Sidi El Ghandour",
        2910501: "Ait Ichou",
        2910503: "Ait Ikkou",
        2910505: "Bouqachmir",
        2910507: "Houderrane",
        2910509: "Maaziz",
        2910511: "Oulmes",
        2910513: "Tiddas",
        2910701: "Ain Sbit",
        2910705: "Brachoua",
        2910707: "Ezzhiliga",
        2910709: "Jemaat Moul Blad",
        2910711: "Laghoualem",
        2910713: "Marchouch",
        2910715: "Moulay Driss Aghbal",
        2910902: "Ain Johra -Sidi Boukhalkhal",
        2910903: "Ait Belkacem",
        2910905: "Ait Buyahya El Hajjama",
        2910907: "Ait Malek",
        2910909: "Khemis Sidi Yahya",
        2910911: "M'qam Tolba",
        2910913: "Sidi Abderrazak",
        2910919: "Ait Ali ou Lahcen",
        3010101: "Khenifra (Mun.)",
        3010105: "M'Rirt (Mun.)",
        3010301: "Ait Ishaq",
        3010303: "Ait Saadelli",
        3010305: "El Kbab",
        3010307: "Kerrouchen",
        3010309: "Ouaoumana",
        3010311: "Sidi Yahya Ou Saad",
        3010313: "Tighassaline",
        3010501: "Aguelmam Azegza",
        3010505: "El Borj",
        3010511: "Lehri",
        3010513: "Moha Ou Hammou Zayani",
        3010521: "Sidi Amar",
        3010525: "Sidi Lamine",
        3010703: "Aguelmous",
        3010707: "El Hammam",
        3010709: "Had Bouhssoussen",
        3010715: "Moulay Bouazza",
        3010717: "Oum Rabia",
        3010719: "Sebt Ait Rahou",
        3010723: "Sidi Hcine",
        3110101: "Bejaad (Mun.)",
        3110103: "Boujniba (Mun.)",
        3110105: "Hattane (Mun.)",
        3110107: "Khouribga (Mun.)",
        3110109: "Oued Zem (Mun.)",
        3110301: "Ain Kaicher",
        3110303: "Bni Bataou",
        3110305: "Bni Zrantel",
        3110307: "Boukhrisse",
        3110309: "Chougrane",
        3110311: "Oulad Gouaouch",
        3110313: "Rouached",
        3110315: "Tachraft",
        3110501: "Bir Mezoui",
        3110503: "Bni Ykhlef",
        3110505: "Bulanouare",
        3110507: "Lagfaf",
        3110509: "El Foqra",
        3110511: "M'Fassis",
        3110513: "Oulad Abdoune",
        3110515: "Oulad Azzouz",
        3110701: "Ait Ammar",
        3110703: "Bni Smir",
        3110705: "Braksa",
        3110707: "Kasbat Troch",
        3110709: "Lagnadiz",
        3110711: "Maadna",
        3110713: "Oulad Aissa",
        3110715: "Oulad Boughadi",
        3110717: "Oulad Fennane",
        3110719: "Oulad Ftata",
        3210101: "El Marsa (Mun.)",
        3210103: "Laayoune (Mun.)",
        3210301: "Boukraa",
        3210303: "Dcheira",
        3210305: "Foum El Oued",
        3310101: "Ksar El Kebir (Mun.)",
        3310103: "Larache (Mun.)",
        3310701: "Bou Jedyane",
        3310703: "Ksar Bjir",
        3310705: "Laouamra",
        3310711: "Souk L'Qolla",
        3310715: "Tatoft",
        3310717: "Zouada",
        3310901: "Ayacha",
        3310903: "Bni Arouss",
        3310905: "Bni Garfett",
        3310913: "Tazroute",
        3310915: "Zaaroura",
        3311103: "Oulad Ouchih",
        3311107: "Rissana Chamalia",
        3311109: "Rissana Janoubia",
        3311111: "Sahel",
        3311112: "Souaken",
        3311113: "Souk Tolba",
        3510101: "Méchouar-Kasba (Mun.)",
        3510103: "Annakhil (Arrond.)",
        3510105: "Gueliz (Arrond.)",
        3510107: "Marrakech-Médina (Arrond.)",
        3510109: "Ménara (Arrond.)",
        3510111: "Sidi Youssef Ben Ali (Arrond.)",
        3510201: "Alouidane",
        3510207: "Ouahat Sidi Brahim",
        3510209: "Oulad Hassoune",
        3510303: "Harbil",
        3510305: "M'Nabha",
        3510311: "Ouled Dlim",
        3510501: "Agafay",
        3510503: "Ait Imour",
        3510505: "Loudaya",
        3510509: "Sid Zouine",
        3510707: "Saada",
        3510711: "Souihla",
        3510713: "Tassoultante",
        3550101: "Lahraouyine (Mun.)",
        3550103: "Mediouna (Mun.)",
        3550105: "Tit Mellil (Mun.)",
        3550301: "Al Majjatia Oulad Taleb",
        3550305: "Sidi Hajjaj Oued Hassar",
        3630103: "Midelt (Mun.)",
        3630107: "Er-rich (Mun.)",
        3630501: "Aghbalou",
        3630503: "Agoudim",
        3630513: "Anemzi",
        3630515: "Boumia",
        3630521: "Sidi Yahya Ou Youssef",
        3630523: "Tanourdi",
        3630525: "Tizi N'Ghachou",
        3630527: "Tounfite",
        3630705: "Ait Ayach",
        3630707: "Ait Ben Yacoub",
        3630709: "Ait Izdeg",
        3630711: "Amersid",
        3630717: "Itzer",
        3630719: "Mibladen",
        3630729: "Zaida",
        3630901: "En-nzala",
        3630903: "Gourrama",
        3630905: "Guers Tiaallaline",
        3630907: "Guir",
        3630909: "M'Zizel",
        3630911: "Sidi Aayad",
        3630913: "Zaouiat Sidi Hamza",
        3631501: "Ait Yahya",
        3631503: "Amouguer",
        3631505: "Bou Azmou",
        3631507: "Imilchil",
        3631509: "Outerbat",
        3710101: "Mohammadia (Mun.)",
        3710103: "Ain Harrouda (Mun.)",
        3710301: "Bni Yakhlef",
        3710303: "Ech-challalate",
        3710305: "Sidi Moussa Ben Ali",
        3710307: "Sidi Moussa Majdoub",
        3810101: "Al Aaroui (Mun.)",
        3810103: "Bni Ansar (Mun.)",
        3810105: "Nador (Mun.)",
        3810107: "Zaio (Mun.)",
        3810109: "Zeghanghane (Mun.)",
        3810115: "Ras El Ma (Mun.)",
        3810119: "Selouane (Mun.)",
        3810501: "Bni Bouifrour",
        3810503: "Bni Chiker",
        3810505: "Bni Sidel Jbel",
        3810507: "Bni Sidel Louta",
        3810509: "Bouarg",
        3810513: "Iaazzanene",
        3810515: "Ihaddadene",
        3810517: "Iksane",
        3810701: "Afsou",
        3810703: "Al Barkanyene",
        3810705: "Arekmane",
        3810707: "Bni Oukil Oulad M'Hand",
        3810709: "Hassi Berkane",
        3810711: "Oulad Daoud Zkhanine",
        3810713: "Oulad Settout",
        3810717: "Tiztoutine",
        3850101: "Bouskoura (Mun.)",
        3850102: "Dar Bouazza (Mun.)",
        3850103: "Nouaceur (Mun.)",
        3850303: "Oulad Azzouz",
        3850305: "Oulad Salah",
        3910101: "Dakhla (Mun.)",
        3910501: "Bir Anzarane",
        3910901: "El Argoub",
        4010107: "Ouarzazate (Mun.)",
        4010109: "Taznakht (Mun.)",
        4010301: "Ait Zineb",
        4010303: "Amerzgane",
        4010305: "Iznaguen",
        4010307: "Ighrem N'Ougdal",
        4010309: "Khouzama",
        4010311: "Ouisselsate",
        4010313: "Siroua",
        4010315: "Telouet",
        4010317: "Tidli",
        4010701: "Ghassate",
        4010703: "Idelsane",
        4010705: "Imi N'Oulaoune",
        4010707: "Skoura Ahl El Oust",
        4010709: "Tarmigt",
        4010711: "Toundoute",
        4050109: "Ouezzane (Mun.)",
        4050701: "Bni Quolla",
        4050703: "Lamjaara",
        4050705: "Masmouda",
        4050707: "Mzefroune",
        4050709: "Ounnana",
        4050711: "Sidi Ahmed Cherif",
        4050713: "Sidi Bousber",
        4050715: "Sidi Redouane",
        4050717: "Teroual",
        4050719: "Zghira",
        4050901: "Ain Beida",
        4050903: "Asjen",
        4050905: "Brikcha",
        4050909: "Moqrisset",
        4051107: "Kalaat Bouqorra",
        4051111: "Zoumi",
        4110111: "Bni Drar (Mun.)",
        4110119: "Naima (Mun.)",
        4110123: "Oujda (Mun.)",
        4110301: "Ahl Angad",
        4110303: "Ain Sfa",
        4110305: "Bni Khaled",
        4110307: "Bsara",
        4110509: "Isly",
        4110511: "Mestferki",
        4110517: "Sidi Boulenouar",
        4110519: "Sidi Moussa Lemhaya",
        4210101: "Agdal Riyad (Arrond.)",
        4210103: "El Youssoufia (Arrond.)",
        4210105: "Hassan (Arrond.)",
        4210106: "Souissi (Arrond.)",
        4210107: "Touarga (Mun.)",
        4210109: "Yacoub El Mansour (Arrond.)",
        4270101: "Ben Guerir (Mun.)",
        4270117: "Sidi Bou Othmane (Mun.)",
        4270701: "Ait Hammou",
        4270703: "Ait Taleb",
        4270705: "Bouchane",
        4270707: "Jaafra",
        4270709: "Labrikiyne",
        4270711: "Oulad Aamer Tizmarine",
        4270713: "Oulad Hassoune Hamri",
        4270715: "Sidi Abdallah",
        4270717: "Sidi Ali Labrahla",
        4270719: "Sidi Ghanem",
        4270721: "Sidi Mansour",
        4270723: "Skhour Rehamna",
        4270725: "Skoura Lhadra",
        4270901: "Akarma",
        4270903: "Bourrous",
        4270905: "Jaidate",
        4270906: "Jbilate",
        4270907: "Lamharra",
        4270909: "Nzalat Laadam",
        4270911: "Oulad Imloul",
        4270913: "Ras Ain Rhamna",
        4270915: "Sidi Boubker",
        4270919: "Tlauh",
        4310103: "Safi (Mun.)",
        4310109: "Jamaat Shaim (Mun.)",
        4310111: "Sebt Gzoula (Mun.)",
        4310301: "Bouguedra",
        4310302: "Chahda",
        4310303: "El Gouraani",
        4310305: "Labkhati",
        4310307: "Lahdar",
        4310309: "Lamrasla",
        4310311: "Lamsabih",
        4310313: "Sidi Aissa",
        4310315: "Sidi Ettiji",
        4310701: "Atouabet",
        4310703: "El Ghiate",
        4310705: "Khatazakane",
        4310707: "Laamamra",
        4310709: "Lamaachate",
        4310711: "Nagga",
        4310713: "Ouled Salmane",
        4310901: "Ayir",
        4310903: "Dar Si Aissa",
        4310905: "El Beddouza",
        4310907: "Hrara",
        4310909: "Moul El Bergui",
        4310915: "Saadla",
        4410103: "Bab Lamrissa (Arrond.)",
        4410105: "Bettana (Arrond.)",
        4410106: "Hssaine (Arrond.)",
        4410107: "Layayda (Arrond.)",
        4410108: "Sidi Bouknadel (Mun.)",
        4410109: "Tabriquet (Arrond.)",
        4410301: "Shoul",
        4410305: "Ameur",
        4510101: "Bhalil (Mun.)",
        4510103: "El Menzel (Mun.)",
        4510105: "Imouzzer Kandar (Mun.)",
        4510107: "Ribate El Kheir (Mun.)",
        4510109: "Sefrou (Mun.)",
        4510301: "Adrej",
        4510303: "Ain Timguenai",
        4510305: "Bir Tam Tam",
        4510307: "Dar El Hamra",
        4510309: "Ighzrane",
        4510311: "Mtarnagha",
        4510313: "Oulad Mkoudou",
        4510315: "Ras Tabouda",
        4510317: "Tafajight",
        4510501: "Ain Cheggag",
        4510503: "Ait Sebaa Lajrouf",
        4510701: "Aghbalou Aqorar",
        4510703: "Ahl Sidi Lahcen",
        4510705: "Azzaba",
        4510707: "Kandar Sidi Khiar",
        4510709: "Laanoussar",
        4510711: "Sidi YoussefBen Ahmed",
        4510713: "Tazouta",
        4610101: "Ben Ahmed (Mun.)",
        4610105: "El Borouj (Mun.)",
        4610109: "Loulad (Mun.)",
        4610113: "Oulad M'Rah (Mun.)",
        4610115: "Settat (Mun.)",
        4610302: "Ain Dorbane-Lahlaf",
        4610303: "Bouguargouh",
        4610307: "Lakhzazra",
        4610309: "Mniaa",
        4610311: "Mrizigue",
        4610313: "M'Garto",
        4610315: "N'Khila",
        4610317: "Oued Naanaa",
        4610319: "Oulad Chbana",
        4610321: "Oulad Fares",
        4610323: "Oulad M'Hamed",
        4610325: "Ras El Ain Chaouia",
        4610327: "Sgamna",
        4610329: "Sidi Abdelkrim",
        4610331: "Sidi Dahbi",
        4610333: "Sidi Hajjaj",
        4610701: "Ain Blal",
        4610703: "Bni Khloug",
        4610705: "Dar Chaffai",
        4610707: "Laqraqra",
        4610709: "Meskoura",
        4610711: "Oulad Amer",
        4610713: "Oulad Bouali Nouaja",
        4610715: "Oulad Fares El Halla",
        4610717: "Oulad Freiha",
        4610719: "Sidi Ahmed El Khadir",
        4610721: "Sidi Boumehdi",
        4610903: "Bni Yagrine",
        4610905: "Gdana",
        4610907: "Guisser",
        4610909: "Khemisset Chaouia",
        4610911: "Lahouaza",
        4610913: "Machraa Ben Abbou",
        4610914: "Mzamza Janoubia",
        4610915: "Mzoura",
        4610919: "Oulad Said",
        4610921: "Oulad Sghir",
        4610923: "Rima",
        4610925: "Sidi El Aidi",
        4610927: "Sidi Mohammed Ben Rahal",
        4610931: "Toualet",
        4670107: "Sidi Bennour (Mun.)",
        4670109: "Zemamra (Mun.)",
        4670701: "Bni Hilal",
        4670703: "Bni Tsiriss",
        4670705: "Bouhmame",
        4670707: "Jabria",
        4670709: "Khmis Ksiba",
        4670711: "Koudiat Bni Dghough",
        4670713: "Kridid",
        4670715: "Laagagcha",
        4670717: "Laamria",
        4670719: "Laaounate",
        4670721: "Laatatra",
        4670723: "Lmechrek",
        4670725: "Metrane",
        4670727: "M'Tal",
        4670729: "Oulad Amrane",
        4670731: "Oulad Boussaken",
        4670733: "Oulad Si Bouhya",
        4670735: "Tamda",
        4671101: "Laghnadra",
        4671103: "Lgharbia",
        4671105: "Loualidia",
        4671107: "Oulad Sbaita",
        4671109: "Saniat Berguig",
        4730101: "Lakhsas (Mun.)",
        4730103: "Sidi Ifni (Mun.)",
        4730501: "Arbaa Ait Abdellah",
        4730503: "Imi N'Fast",
        4730505: "Mesti",
        4730507: "Mirleft",
        4730509: "Sbouya",
        4730511: "Tangarfa",
        4730513: "Tioughza",
        4730515: "Tnine Amellou",
        4730701: "Ait Erkha",
        4730703: "Anfeg",
        4730705: "Boutrouch",
        4730707: "Ibdar",
        4730709: "Sebt Ennabour",
        4730711: "Sidi AbdallahOu Belaid",
        4730713: "Sidi H'Saine Ou Ali",
        4730715: "Sidi M'Bark",
        4730717: "Tighirt",
        4810101: "Dar Gueddari (Mun.)",
        4810103: "Had Kourt (Mun.)",
        4810105: "Jorf El Melha (Mun.)",
        4810107: "Mechraa Bel Ksiri (Mun.)",
        4810111: "Sidi Kacem (Mun.)",
        4810301: "Ain Dfali",
        4810303: "Bni Oual",
        4810309: "Moulay Abdelkader",
        4810313: "Sidi Ahmed Benaissa",
        4810315: "Sidi Ameur Al Hadi",
        4810317: "Sidi Azzouz",
        4810501: "Al Haouafate",
        4810507: "Nouirate",
        4810509: "Sefsaf",
        4810705: "Khnichet",
        4810707: "Lamrabih",
        4810711: "Oulad Nouel",
        4810719: "Sidi M'Hamed Chelh",
        4810721: "Taoughilt",
        4810901: "Bab Tiouka",
        4810903: "Bir Taleb",
        4810905: "Chbanate",
        4810907: "Selfat",
        4810909: "Tekna",
        4810911: "Zaggota",
        4810913: "Zirara",
        4811103: "Dar Laaslouji",
        4811105: "Rmilat",
        4811111: "Sidi Al Kamel",
        4910107: "Sidi Slimane (Mun.)",
        4910109: "Sidi Yahya El Gharb (Mun.)",
        4910307: "Kceibya",
        4910315: "Sfafaa",
        4910317: "Ameur Chamalia",
        4910501: "Azghar",
        4910503: "Boumaiz",
        4910505: "Dar Bel Amri",
        4910509: "M'saada",
        4910511: "Ouled Ben Hammadi",
        4910513: "Ouled H'Cine",
        5010101: "Ain El Aouda (Mun.)",
        5010103: "Harhoura (Mun.)",
        5010105: "Skhirate (Mun.)",
        5010107: "Témara (Mun.)",
        5010109: "Ain Attig (Mun.)",
        5010301: "El Menzeh",
        5010303: "Oumazza",
        5010311: "Sidi Yahya Zaer",
        5010503: "Mers El Kheir",
        5010505: "Sabbah",
        5110101: "Assilah (Mun.)",
        5110103: "Bni Makada (Arrond.)",
        5110105: "Charf-Mghogha (Arrond.)",
        5110106: "Charf-Souani (Arrond.)",
        5110107: "Tanger-Médina (Arrond.)",
        5110109: "Gueznaia (Mun.)",
        5110301: "Al Manzla",
        5110303: "Aquouass Briech",
        5110305: "Sebt Azzinate",
        5110307: "Dar Chaoui",
        5110311: "Sahel Chamali",
        5110313: "Sidi Lyamani",
        5110315: "Had Al Gharbia",
        5110317: "Laaouama",
        5118105: "HJAR ENNHAL",
        5210101: "Tan Tan (Mun.)",
        5210103: "El Ouatia (Mun.)",
        5210301: "Msied",
        5210303: "Tilemzoun",
        5210501: "Abteh",
        5210503: "Ben Khlil",
        5210505: "Chbika",
        5310101: "Ghafsai (Mun.)",
        5310103: "Karia Ba Mohamed (Mun.)",
        5310105: "Taounate (Mun.)",
        5310107: "Thar Es-souk (Mun.)",
        5310109: "Tissa (Mun.)",
        5310301: "El Bibane",
        5310303: "Galaz",
        5310305: "Kissane",
        5310307: "Oudka",
        5310309: "Ouartzagh",
        5310311: "Ratba",
        5310313: "Sidi Haj M'hamed",
        5310315: "Sidi Mokhfi",
        5310317: "Sidi YahyaBni Zeroual",
        5310319: "Tabouda",
        5310321: "Tafrant",
        5310323: "Timezgana",
        5310501: "Bni Snous",
        5310503: "Bouchabel",
        5310505: "Rhouazi",
        5310507: "Jbabra",
        5310509: "Loulja",
        5310511: "Mkansa",
        5310513: "Moulay Abdelkrim",
        5310515: "Moulay Bouchta",
        5310517: "Sidi El Abed",
        5310701: "Ain Mediouna",
        5310703: "Bni Oulid",
        5310705: "Bni Ounjel Tafraout",
        5310707: "Bouadel",
        5310709: "Bouhouda",
        5310711: "Fennassa Bab El Hit",
        5310713: "Khlalfa",
        5310715: "Mezraoua",
        5310717: "Rghioua",
        5310719: "Tamedit",
        5310721: "Zrizer",
        5310901: "Ain Aicha",
        5310903: "Ain Legdah",
        5310905: "Ain Maatouf",
        5310907: "Bouarouss",
        5310909: "El Bsabsa",
        5310911: "Messassa",
        5310913: "Oued Jemaa",
        5310915: "Oulad Ayyad",
        5310917: "Oulad Daoud",
        5310919: "Outabouabane",
        5310921: "Ras El Oued",
        5310923: "Sidi M'HamedBen Lahcen",
        5330113: "Debdou (Mun.)",
        5330115: "El Aioun Sidi Mellouk (Mun.)",
        5330133: "Taourirt (Mun.)",
        5330305: "El Atef",
        5330315: "Oulad M'hammed",
        5330317: "Sidi Ali Bel Quassem",
        5330319: "Sidi Lahsen",
        5330703: "Ain Lehjer",
        5330709: "Mechraa Hammadi",
        5330713: "Mestegmer",
        5330721: "Tancherfi",
        5330901: "Ahl Oued Za",
        5330907: "Gteter",
        5330911: "Melg El Ouidane",
        5370105: "Tarfaya (Mun.)",
        5370303: "Daoura",
        5370501: "Akhfennir",
        5370507: "Tah",
        5410101: "Ait Iaaza (Mun.)",
        5410102: "Aoulouz (Mun.)",
        5410103: "El Guerdane (Mun.)",
        5410105: "Irherm (Mun.)",
        5410107: "Oulad Berhil (Mun.)",
        5410109: "Oulad Teima (Mun.)",
        5410111: "Taliouine (Mun.)",
        5410113: "Taroudannt (Mun.)",
        5410301: "Adar",
        5410303: "Ait Abdallah",
        5410305: "Amalou",
        5410307: "Azaghar N'Irs",
        5410309: "Imaouen",
        5410311: "Imi N'Tayart",
        5410313: "Nihit",
        5410315: "Oualqadi",
        5410317: "Sidi Boaal",
        5410319: "Sidi Mzal",
        5410321: "Tabia",
        5410323: "Tataoute",
        5410325: "Tindine",
        5410327: "Tisfane",
        5410329: "Toufelaazt",
        5410331: "Toumliline",
        5410409: "Arazane",
        5410413: "El Faid",
        5410417: "Ida Ou Gailal",
        5410421: "Ida Ougoummad",
        5410423: "Igli",
        5410425: "Igoudar Mnabha",
        5410429: "Lamhara",
        5410433: "Oulad Aissa",
        5410435: "Ouneine",
        5410439: "Sidi Abdellah Ou Said",
        5410447: "Sidi Ouaaziz",
        5410449: "Tafingoult",
        5410453: "Talgjount",
        5410459: "Tigouga",
        5410461: "Tinzart",
        5410467: "Tizi N'Test",
        5410469: "Toughmart",
        5410501: "Ahl Ramel",
        5410503: "Argana",
        5410505: "Assads",
        5410507: "Bigoudine",
        5410509: "Eddir",
        5410511: "El Koudia El Beida",
        5410513: "Imilmaiss",
        5410515: "Issen",
        5410517: "Lagfifat",
        5410519: "Lakhnafif",
        5410521: "Lamhadi",
        5410523: "Machraa El Ain",
        5410525: "Sidi Ahmed Ou Amar",
        5410527: "Sidi Boumoussa",
        5410529: "Sidi Moussa Lhamri",
        5410531: "Talmakante",
        5410533: "Tidsi Nissendalene",
        5410701: "Agadir Melloul",
        5410703: "Ahl Tifnoute",
        5410705: "Askaouen",
        5410707: "Assaisse",
        5410709: "Assaki",
        5410711: "Azrar",
        5410713: "Iguidi",
        5410715: "Sidi Hsaine",
        5410717: "Taouyalte",
        5410719: "Tassousfi",
        5410721: "Tizgzaouine",
        5410723: "Toubkal",
        5410725: "Zagmouzen",
        5410737: "Ouzioua",
        5410765: "Tisrasse",
        5410901: "Ahmar Laglalcha",
        5410903: "Ait Igas",
        5410905: "Ait Makhlouf",
        5410911: "Bounrar",
        5410915: "Freija",
        5410919: "Ida Ou Moumen",
        5410927: "Imoulass",
        5410931: "Lamnizla",
        5410941: "Sidi Ahmed Ou Abdallah",
        5410943: "Sidi Borja",
        5410945: "Sidi Dahmane",
        5410951: "Tafraouten",
        5410955: "Tamaloukte",
        5410957: "Tazemmourt",
        5410963: "Tiout",
        5410971: "Zaouia Sidi Tahar",
        5510101: "Akka (Mun.)",
        5510103: "Fam El Hisn (Mun.)",
        5510105: "Foum Zguid (Mun.)",
        5510107: "Tata (Mun.)",
        5510301: "Ait Ouabelli",
        5510303: "Kasbat Sidi Abdellah Ben M'Bar",
        5510305: "Tamanarte",
        5510307: "Tizounine",
        5510501: "Aguinane",
        5510503: "Akka Ighane",
        5510505: "Allougoum",
        5510507: "Ibn Yacoub",
        5510509: "Tissint",
        5510511: "Tlite",
        5510701: "Adis",
        5510703: "Issafen",
        5510705: "Oum El Guerdane",
        5510707: "Tagmout",
        5510709: "Tigzmerte",
        5510711: "Tizaghte",
        5610101: "Aknoul (Mun.)",
        5610105: "Oued Amlil (Mun.)",
        5610107: "Tahla (Mun.)",
        5610111: "Taza (Mun.)",
        5610301: "Ajdir",
        5610303: "Bourd",
        5610305: "Gzenaya Al Janoubia",
        5610307: "Jbarna",
        5610309: "Sidi Ali Bourakba",
        5610311: "Tizi Ouasli",
        5610701: "Bni Frassen",
        5610703: "Bouchfaa",
        5610705: "Bouhlou",
        5610707: "Ghiata Al Gharbia",
        5610709: "Oulad Zbair",
        5610711: "Rbaa El Fouki",
        5610901: "Ait Saghrouchen",
        5610903: "Bouyablane",
        5610907: "Matmata",
        5610909: "Smià",
        5610911: "Tazarine",
        5610913: "Zrarda",
        5611101: "Bni Ftah",
        5611103: "Brarha",
        5611105: "El Gouzate",
        5611107: "Kaf El Ghar",
        5611109: "Msila",
        5611111: "Taifa",
        5611113: "Tainaste",
        5611115: "Traiba",
        5611301: "Bab Boudir",
        5611303: "Bab Marzouka",
        5611305: "Bni Lent",
        5611307: "Galdamane",
        5611309: "Meknassa Acharqia",
        5611311: "Meknassa Al Gharbia",
        5611313: "Oulad Chrif",
        5611315: "Maghraoua",
        5710107: "Oued Laou (Mun.)",
        5710111: "Tétouan (Mun.)",
        5710301: "Ain Lahsan",
        5710303: "AL Kharroub",
        5710305: "Bghaghza",
        5710307: "Bni Harchen",
        5710309: "Jbel Lahbib",
        5710311: "Bni Idder",
        5710315: "Mallalienne",
        5710317: "Saddina",
        5710319: "Souk Kdim",
        5710321: "Sahtryine",
        5710501: "Al Hamra",
        5710505: "Al Oued",
        5710507: "Azla",
        5710513: "Bni Leit",
        5710515: "Bni Said",
        5710517: "Dar Bni Karrich",
        5710519: "Oulad Ali Mansour",
        5710523: "Zaitoune",
        5710525: "Zaouiat Sidi Kacem",
        5710527: "Zinat",
        5730101: "Fnideq (Mun.)",
        5730103: "Martil (Mun.)",
        5730105: "M'Diq (Mun.)",
        5730303: "Allyene",
        5730305: "Belyounech",
        5770103: "Boumalne Dades (Mun.)",
        5770105: "Kalaat M'Gouna (Mun.)",
        5770111: "Tinghir (Mun.)",
        5770205: "Alnif",
        5770211: "H'Ssyia",
        5770221: "M'Ssici",
        5770301: "Ait Hani",
        5770305: "Assoul",
        5770503: "Ait Ouassif",
        5770505: "Ait Sedrate JbelEl Oulia",
        5770507: "Ait Sedrate JbelEL Soufla",
        5770509: "Ait Sedrate Sahl Charkia",
        5770511: "Ait Sedrate Sahl El Gharbia",
        5770513: "Ait Youl",
        5770515: "Ighil N'Oumgoun",
        5770517: "Ikniouen",
        5770521: "M'Semrir",
        5770525: "Souk Lakhmis Dades",
        5770529: "Tilmi",
        5770701: "Ait El Farsi",
        5770719: "Imider",
        5770723: "Ouaklim",
        5770727: "Taghzoute N'Ait Atta",
        5770731: "Toudgha El Oulia",
        5770733: "Toudgha Essoufla",
        5810105: "Tafraout (Mun.)",
        5810107: "Tiznit (Mun.)",
        5810301: "Ait Issafen",
        5810303: "Anzi",
        5810305: "Arbaa Ait Ahmed",
        5810307: "Ida Ou Gougmar",
        5810309: "Sidi Ahmed Ou Moussa",
        5810311: "Tafraout El Mouloud",
        5810313: "Tighmi",
        5810315: "Tizoughrane",
        5810317: "Tnine Aday",
        5810901: "Afella Ighir",
        5810903: "Ait Ouafqa",
        5810905: "Ammelne",
        5810907: "Irigh N'Tahala",
        5810909: "Tarsouat",
        5810911: "Tassrirt",
        5811101: "Arbaa Rasmouka",
        5811103: "Arbaa Sahel",
        5811105: "Bounaamane",
        5811107: "El Maader El Kabir",
        5811109: "Ouijjane",
        5811111: "Reggada",
        5811113: "Sidi Bouabdelli",
        5811115: "Tnine Aglou",
        5850107: "Echemmaia (Mun.)",
        5850113: "Youssoufia (Mun.)",
        5850507: "Ighoud",
        5850509: "Jdour",
        5850511: "Jnane Bouih",
        5850517: "Sidi Chiker",
        5850701: "Atiamim",
        5850703: "El Gantour",
        5850705: "Esbiaat",
        5850713: "Lakhoualqa",
        5850715: "Ras El Ain",
        5870101: "Agdz (Mun.)",
        5870113: "Zagora (Mun.)",
        5870301: "Afella N'Dra",
        5870303: "Afra",
        5870305: "Ait Boudaoud",
        5870307: "Ait Ouallal",
        5870321: "Mezguita",
        5870325: "N'Kob",
        5870327: "Oulad Yahia Lagraire",
        5870331: "Taghbalte",
        5870337: "Tamezmoute",
        5870339: "Tansifte",
        5870341: "Tazarine",
        5870709: "Bleida",
        5870711: "Bni Zoli",
        5870713: "Bouzeroual",
        5870715: "Errouha",
        5870729: "Taftechna",
        5870743: "Ternata",
        5870745: "Tinzouline",
        5870917: "Fezouata",
        5870919: "Ktaoua",
        5870923: "M'Hamid El Ghizlane",
        5870933: "Tagounite",
        5870935: "Tamegroute",
        5910101: "Moulay Yacoub (Mun.)",
        5910301: "Ain Chkef",
        5910303: "Mikkes",
        5910305: "Sebaa Rouadi",
        5910307: "Sebt Loudaya",
        5910501: "Ain Bou Ali",
        5910502: "Ain Kansra",
        5910503: "Laajajra",
        5910505: "Louadaine",
        5910507: "Oulad Mimoun",
        5910509: "Sidi Daoud"
    }
    cd_mil_labels = {
        1: "Urbain",
        2: "Rural"
    }
    suffix_index_labels = {
        8.0: "1ASCPEB",
        0.0: "1APIC",
        7.0: "3ASCPEB",
        29.0: "3ASCPMBA",
        35.0: "3APICO",
        18.0: "1ASCO",
        1.0: "1ASCG",
        34.0: "2ASCPMBA",
        25.0: "1ASCPMBA",
        36.0: "3ASCP",
        4.0: "3ASCG",
        23.0: "1ASCPF",
        31.0: "2APICO",
        11.0: "2ASCOPSE",
        21.0: "2ASCPR",
        14.0: "1ASCPCC",
        22.0: "3ASCPRVA",
        3.0: "3APIC",
        19.0: "1ASCP",
        28.0: "3ASCPEI",
        2.0: "2APIC",
        17.0: "1APICO",
        27.0: "2ASCPRVA",
        10.0: "1ASCPEI",
        30.0: "3ASCPR",
        13.0: "2ASCPEB",
        33.0: "2ASCPCP",
        6.0: "1ASCOPSE",
        20.0: "3ASCOPSE",
        32.0: "2ASCP",
        5.0: "2ASCG",
        24.0: "2ASCPCC",
        15.0: "3ASCO",
        26.0: "2ASCPEI",
        9.0: "1ASCPR",
        16.0: "2ASCO",
        12.0: "1ASCPRVA"
    }
    gendre_label = {
        1: "Garçon",
        2: "Fille"
    }

    return cd_reg_labels, cd_com_labels, cd_mil_labels, suffix_index_labels, gendre_label


@app.get("/fastapi",response_class=HTMLResponse)
async def home(request: Request):
    cd_reg_labels, cd_com_labels, cd_mil_labels, suffix_index_labels, gendre_label = load_labels()
    return templates.TemplateResponse("app.html", {"request": request, "cd_reg_labels": cd_reg_labels,
                                                   "cd_com_labels": cd_com_labels, "cd_mil_labels": cd_mil_labels,
                                                   "suffix_index_labels": suffix_index_labels,
                                                   "gendre_label": gendre_label})


@app.get("/login", response_class=HTMLResponse)
async def login_page(request: Request):
    # Chargez les libellés pour les menus déroulants
    cd_reg_labels, cd_com_labels, cd_mil_labels, suffix_index_labels, age_label = load_labels()
    return templates.TemplateResponse("test.html", {"request": request, "cd_reg_labels": cd_reg_labels,
                                                    "cd_com_labels": cd_com_labels, "cd_mil_labels": cd_mil_labels,
                                                    "suffix_index_labels": suffix_index_labels, "age_label": age_label})


""""
def determine_comment(prediction_proba):
    if prediction_proba < 30:
        return "Faible"
    elif 30 <= prediction_proba < 60:
        return "Modéré"
    elif 60 <= prediction_proba < 80:
        return "Élevé"
    else:
        return "Très élevé"
"""


def determine_comment(prediction_proba):
    if prediction_proba < 10:
        return "Faible"
    elif 10 <= prediction_proba <= 30:
        return "Modéré"
    elif 30 < prediction_proba < 50:
        return "Élevé"
    else:
        return "Très élevé"


@app.post("/login/")
async def login(
        request: Request,
        typeEnseignement: int = Form(...),
        NbrRedoublement: int = Form(...),
        MoyenneNotes: float = Form(...),
        id_Genre: int = Form(...),
        Age: int = Form(...),
        CD_REG: int = Form(...),
        cd_com: int = Form(...),
        CD_MIL: int = Form(...),
        suffix_index: int = Form(...)
):
    inf_features = [
        [typeEnseignement, NbrRedoublement, MoyenneNotes, id_Genre, Age, CD_REG, cd_com, CD_MIL, suffix_index]]
    results = model.predict(inf_features)
    prediction_proba = model.predict_proba(inf_features)[:, 1] * 100  # Conversion en pourcentage
    results = results.tolist()[0]
    prediction_result = predictions_classes[results]
    prediction_comment = determine_comment(prediction_proba)
    # Convertir prediction_proba en un nombre flottant standard
    prediction_proba_float = float(prediction_proba)
    # Arrondir le pourcentage à deux décimales et le formatter en tant que chaîne de caractères
    prediction_proba_str = "{:.2f}".format(prediction_proba_float)
    response = templates.TemplateResponse("test.html", {
        "request": request,
        "prediction_result": prediction_result,
        "prediction_proba": prediction_proba_str,
        "prediction_comment": prediction_comment
    })

    # Définition des cookies avec les valeurs du formulaire
    response.set_cookie("typeEnseignement", str(typeEnseignement))
    response.set_cookie("NbrRedoublement", str(NbrRedoublement))
    response.set_cookie("MoyenneNotes", str(MoyenneNotes))
    response.set_cookie("id_Genre", str(id_Genre))
    response.set_cookie("Age", str(Age))
    response.set_cookie("CD_REG", str(CD_REG))
    response.set_cookie("cd_com", str(cd_com))
    response.set_cookie("CD_MIL", str(CD_MIL))
    response.set_cookie("suffix_index", str(suffix_index))

    return response


@app.get("/items/", response_class=HTMLResponse)
async def read_items(request: Request):
    return templates.TemplateResponse("app.html", {"request": request})


if __name__ == "__main__":
    uvicorn.run(app, host="127.0.0.1", port=8001)